{"ast":null,"code":"import { initializeEnvironment } from './initialize';\nimport { isNodejs } from './isNodejs';\nvar environment;\n\nfunction initialize() {\n  environment = initializeEnvironment();\n}\n\nfunction getEnv() {\n  return environment;\n}\n\nfunction monkeyPatch(env) {\n  environment = environment || initializeEnvironment();\n  var _a = env.Canvas,\n      Canvas = _a === void 0 ? environment.Canvas : _a,\n      _b = env.Image,\n      Image = _b === void 0 ? environment.Image : _b;\n  environment.Canvas = Canvas;\n  environment.Image = Image;\n\n  environment.createCanvasElement = env.createCanvasElement || function () {\n    return new Canvas();\n  };\n\n  environment.createImageElement = env.createImageElement || function () {\n    return new Image();\n  };\n\n  environment.ImageData = env.ImageData || environment.ImageData;\n  environment.Video = env.Video || environment.Video;\n  environment.fetch = env.fetch || environment.fetch;\n  environment.readFile = env.readFile || environment.readFile;\n}\n\nexport var env = {\n  getEnv: getEnv,\n  initialize: initialize,\n  monkeyPatch: monkeyPatch,\n  isNodejs: isNodejs\n};\ninitialize();","map":null,"metadata":{},"sourceType":"module"}